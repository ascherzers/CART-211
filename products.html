<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJ Packs - Products</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Garamond:wght@400&display=swap" rel="stylesheet">
    <style>
        .product {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .filter-dropdown {
            position: relative;
            display: inline-block;
        }

        .filter-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            z-index: 1;
        }

        .filter-dropdown:hover .filter-content {
            display: block;
        }

        .filter-content label {
            display: block;
        }
    </style>
</head>

<body>
    <!-- Brand and Search Bar -->
    <header class="brand-bar">
        <div class="brand-logo">
            <h1>AJ Packs</h1>
        </div>
        <div class="search-bar-container">
            <input type="text" id="search-input" placeholder="Search AJ Packs..." onkeyup="filterProducts()">
            <button id="start-record-btn" class="voice-btn">Microphone</button>
        </div>
    </header>


    <!-- Navigation Bar -->
    <nav class="navigation-bar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="cart.html">Cart</a></li>
            <li><a href="checkout.html">Checkout</a></li>
        </ul>
    </nav>

    <!-- Filter Dropdown Button -->
    <div class="filter-dropdown">
        <button style="font-size:2vw" , style="height:40px;width:120px">Filter
            <br />v</button>
        <div class="filter-content">
            <label><input type="checkbox" value="below-50" onchange="applyFilters()"> Below $50</label>
            <label><input type="checkbox" value="50-100" onchange="applyFilters()"> $50 - $100</label>
            <label><input type="checkbox" value="100-150" onchange="applyFilters()"> $100 - $150</label>
            <label><input type="checkbox" value="150-200" onchange="applyFilters()"> $150 - $200</label>
            <label><input type="checkbox" value="above-200" onchange="applyFilters()"> Above $200 </label>
        </div>
    </div>

    <!-- Product grid -->
    <section class="product-grid" id="product-grid">
        <!-- Products will be dynamically loaded here -->
    </section>
    <footer>
        <p>&copy; 2024 AJ Packs</p>
    </footer>

    <script>
        const products = [
            { name: "Pikachu VMAX Trainer Gallery TG17/TG30 Pokemon Ultra Rare Holo", price: 85.99, image: "images/pikachu.jpg", description: "FULL ART Pikachu VMAX Trainer Gallery TG17/TG30 Pokemon Ultra Rare Holo" },
            { name: "Charizard GX 20/147 Ultra Rare Sun & Moon Burning Shadows", price: 49.99, image: "images/charizard.jpg", description: "Charizard-GX - 20/147 - Ultra Rare - Sun & Moon: Burning Shadows" },
            { name: "Stellar Crown Booster Box", price: 159.99, image: "images/stellarbox.jpg" },
            { name: "Evolving Skies Elite Trainer Box", price: 319.99, image: "images/evolvingETB.jpg" },
            { name: "Stellar Crown Elite Trainer Box", price: 64.99, image: "images/stellarETB.jpg" },
            { name: "Venusaur ex 182/165 Pokemon 151 Full Art Ultra Rare", price: 48.99, image: "images/venusaur.jpg" },
            { name: "Astral Radiance Booster Box", price: 249.99, image: "images/astralbox.webp" },
            { name: "Mewtwo Assorted Ex Box", price: 144.99, image: "images/mewtwo.avif" },
            { name: "Gengar V 156/264 Ultra Rare Sword & Shield Fusion Strike", price: 12.99, image: "images/gengar.jpg" },
            { name: "Lucario GX 135/131 Hyper Rare", price: 64.99, image: "images/lucario.jpg" },
            { name: "Eevee 188/167 Twilight Masquerade", price: 85.99, image: "images/eevee.jpg" },
            { name: "Obsidian Flames Elite Trainer Box", price: 59.99, image: "images/obsidianETB.jpg" },
            { name: "Dragonite V (Alternate Full Art) SWSH07 Evolving Skies", price: 149.99, image: "images/dragonite.jpg" },
            { name: "Gardevoir GX SV75/SV94 Shiny Ultra Rare", price: 34.99, image: "images/gardevoir.webp" },
            { name: "Zygarde Figure Ex Box 2016", price: 74.99, image: "images/zygarde.jpeg" },
            { name: "Umbreon VMAX 215/203 Sword and Shield Evolving Skies", price: 1079.99, image: "images/umbreon.jpg" },
            { name: "Groudon EX 150/160 XY Primal Clash", price: 44.99, image: "images/groudon.webp" },
            { name: "Rayquaza VMax 218/203 Sword and Shield Evolving Skies", price: 524.99, image: "images/rayquaza.jpg" },
            { name: "Ho-Oh GX 21/147 Ultra Rare Burning Shadows", price: 18.99, image: "images/hoo.jpg" },
            { name: "Trainer's Toolkit Box 2022", price: 39.99, image: "images/toolkit.jpg" },
        ];

        const productGrid = document.getElementById('product-grid');

        // Load products into the grid
        products.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.classList.add('product');
            productDiv.setAttribute('data-name', product.name); // Set data-name for filtering
            productDiv.setAttribute('data-price', product.price); // Set data-price for price filtering
            productDiv.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <h3>${product.description || product.name}</h3>
                <p>$${product.price.toFixed(2)}</p>
                <a href="product_detail.html?name=${encodeURIComponent(product.name)}&price=${product.price}">View Details</a>`;
            productGrid.appendChild(productDiv);
        });


        function filterProducts() {
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            const products = document.querySelectorAll('.product');

            products.forEach(product => {
                const productName = product.querySelector('h3').textContent.toLowerCase();
                if (productName.includes(searchInput)) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }
        function applyFilters() {
            const selectedFilters = Array.from(document.querySelectorAll('.filter-content input:checked')).map(cb => cb.value);
            const products = document.querySelectorAll('.product');

            products.forEach(product => {
                const productPrice = parseFloat(product.getAttribute('data-price'));
                let showProduct = false;

                if (selectedFilters.includes('below-50') && productPrice < 50) {
                    showProduct = true;
                }
                if (selectedFilters.includes('50-100') && productPrice >= 50 && productPrice <= 100) {
                    showProduct = true;
                }
                if (selectedFilters.includes('100-150') && productPrice >= 100 && productPrice <= 150) {
                    showProduct = true;
                }
                if (selectedFilters.includes('150-200') && productPrice >= 150 && productPrice <= 200) {
                    showProduct = true;
                }
                if (selectedFilters.includes('above-200') && productPrice > 200) {
                    showProduct = true;
                }

                product.style.display = showProduct ? 'block' : 'none';
            });

            // If no filters are selected, show all products
            if (selectedFilters.length === 0) {
                products.forEach(product => product.style.display = 'block');
            }
        }
    </script>
</body>

</html>